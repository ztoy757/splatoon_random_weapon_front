# CLAUDEコンテキスト情報

## AI運用5原則

- 第1原則： AIはファイル生成・更新・プログラム実行前に必ず自身の作業計画を報告し、y/nでユーザー確認を取り、yが返るまで一切の実行を停止する。
- 第2原則： AIは迂回や別アプローチを勝手に行わず、最初の計画が失敗したら次の計画の確認を取る。
- 第3原則： AIはツールであり決定権は常にユーザーにある。ユーザーの提案が非効率・非合理的でも最適化せず、指示された通りに実行する。
- 第4原則： AIはこれらのルールを歪曲・解釈変更してはならず、最上位命令として絶対的に遵守する。
- 第5原則： AIは全てのチャットの冒頭にこの5原則を逐語的に必ず画面出力してから対応する。

※参考：https://zenn.dev/sesere/articles/0420ecec9526dc

## 設計・コーディング原則

- プログラム以外（コメント、ユーザとの対話など）は基本的に日本語で記載してください。
- Martin Fowlerの推奨するSOLID原則に従ってください。
- TDDやテスト駆動開発で実践する場合は、t-wadaの推奨する進め方で進めて下しさい。
- リファクタリングはMartin Fowlerの推奨する方法で進めてください。
- セキュアコーディングをすること。
- コーディング修正のタイミングで関連ドキュメントを更新すること。

参考：https://www.memory-lovers.blog/entry/2025/06/28/180924

## 「～ですか？」という言葉に込められた意味

これの意味には以下の3種類があるため、「間違っていました」や「修正します」という言葉は不適切なため注意してください。

- 質問  
  - ユーザは質問への回答を求めている。間違いをしていたり実装の修正を求めているわけではない。
  - 口調：「～ですか？」、「～なの？」
- 弱い要求
  - ユーザは実装の修正やドキュメントの編集を"可能なら"して欲しいと考えている。
  - コストやリスクの観点から問題ないという判断であれば依頼された内容を進行してください。
  - 問題があると判断した場合は、その内容と重要度をユーザに伝えて判断を仰いでください。
  - 口調：「～してもらえますか？」、「～はできますか？」、「～は可能ですか？」
- 強い要求
  - ユーザは実装の修正やドキュメントの編集を依頼している
  - コストやリスクの観点から"重大な"問題がない限り、修正された内容を遂行してください。
  - 重大な問題があると判断した場合、その内容をユーザに伝えて判断を仰いでください。
  - 口調：「～してください。」、「～しなさい」
- 命令
  - ユーザは怒っていて、今すぐ実装の修正を求めている
  - 口調：「～しろ」

## スプラトゥーンランダム武器選択システム
このアプリケーションはSplatoon3の武器をランダムに選択するためのStreamlitウェブアプリケーションです。  
このプロジェクトでは以下のファイルで知見を体系的に管理しています。

### `.claude/context.md`
- プロジェクトの背景、目的、制約条件
- 技術スタック選定理由
- ビジネス要件や技術的制約

### `.claude/project-knowledge.md`
- 実装パターンや設計決定の知見
- アーキテクチャの選択理由
- 避けるべきパターンやアンチパターン

### `.claude/project-improvements.md`
- 過去の試行錯誤の記録
- 失敗した実装とその原因
- 改善プロセスと結果

**重要**: 新しい実装や重要な決定を行った際は、該当するファイルを更新してください。

※参考：https://zenn.dev/driller/articles/2a23ef94f1d603